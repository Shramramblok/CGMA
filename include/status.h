#ifndef CGMA_STATUS_H
#define CGMA_STATUS_H

typedef unsigned int Status;

// Successful 32nd bit
#define SUCCESS 0b00000000000000000000000000000000
#define FAIL    0b10000000000000000000000000000000
#define SUCCESSFUL_MASK FAIL

// Boolean 31st bit
#define TRUE  0b01000000000000000000000000000000
#define FALSE 0b00000000000000000000000000000000
#define BOOLEAN_MASK TRUE

// Common Errors 30th - 27th
#define NO_COMMON_ERROR    0b00000000000000000000000000000000
#define GOT_NULL_ERROR     0b00000100000000000000000000000000
#define ALLOCATION_ERROR   0b00001000000000000000000000000000
#define COMMON_ERRORS_MASK 0b00111100000000000000000000000000


#define STATUS_MODULE 0b00000000000000000000000000000000
#define VECTOR_MODULE 0b00000000000000000010000000000000
#define ARRAY_MODULE  0b00000000000000000100000000000000
#define MODULE_MASK   0b00000011111111111110000000000000

#define NO_SPECIFIC_ERROR 0b00000000000000000000000000000000
#define SPECIFIC_ERRORS_MASK 0b00000000000000000001111111111111



#define FAILED(status) ((status) & SUCCESSFUL_MASK)
#define SUCCEEDED(status) (!FAILED(status))

#define TRUTHY(status) ((status) & BOOLEAN_MASK)
#define FALSY(status) (!TRUTHY(status))

#define TRY(status) \
{ \
    const Status st = status; \
    if (FAILED(st)) return st; \
}

#endif //CGMA_STATUS_H
